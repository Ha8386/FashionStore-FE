<div class="container py-4 fade-in">
  <h3 class="fw-bold text-primary">{{ id ? 'Sửa' : 'Thêm' }} sản phẩm</h3>

  <form (ngSubmit)="save()" #f="ngForm" class="mt-3" novalidate>
    <div class="row g-3">
      <div class="col-md-6">
        <label class="form-label">Tên</label>
        <input class="form-control shadow-sm" [(ngModel)]="name" name="name" required />
      </div>
      <div class="col-md-6">
        <label class="form-label">Giá</label>
        <input type="number" class="form-control shadow-sm" [(ngModel)]="price" name="price" min="0" />
      </div>
      <div class="col-md-6">
        <label class="form-label">Số lượng</label>
        <input type="number" class="form-control shadow-sm" [(ngModel)]="quantity" name="quantity" min="0" required />
      </div>
      <div class="col-md-6">
        <label class="form-label">Màu sắc</label>
        <input class="form-control shadow-sm" [(ngModel)]="color" name="color" />
      </div>
      <div class="col-md-6">
        <label class="form-label">Danh mục</label>
        <select class="form-select shadow-sm" [(ngModel)]="categoryId" name="categoryId" required>
          <option [ngValue]="undefined" disabled>-- Chọn danh mục --</option>
          <option *ngFor="let c of categories" [ngValue]="c.id">{{ c.name }}</option>
        </select>
      </div>
      <div class="col-md-6">
        <label class="form-label">Thương hiệu</label>
        <select class="form-select shadow-sm" [(ngModel)]="brandId" name="brandId" required>
          <option [ngValue]="undefined" disabled>-- Chọn thương hiệu --</option>
          <option *ngFor="let b of brands" [ngValue]="b.id">{{ b.name }}</option>
        </select>
      </div>
      <div class="col-12">
        <label class="form-label">Mô tả</label>
        <textarea class="form-control shadow-sm" rows="4" [(ngModel)]="description" name="description"></textarea>
      </div>
    </div>
    <div class="mt-4">
      <button class="btn btn-primary shadow-sm px-4" [disabled]="!f.form.valid || saving">
        <i class="bi bi-save"></i> {{ id ? 'Cập nhật' : 'Tạo mới' }}
      </button>
      <a class="btn btn-secondary ms-2 shadow-sm px-4" [routerLink]="['/admin/products']">
        <i class="bi bi-arrow-left"></i> Quay lại
      </a>
    </div>
  </form>
</div>
